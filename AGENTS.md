# Repository Guidelines

## Project Structure & Module Organization
- `src/` holds the TypeScript source for the VS Code extension (telemetry services, views, alerts).
- `src/test/unit/` and `src/test/suite/` contain unit and integration tests; helpers live in `src/test/helpers/`.
- `out/` is compiled JavaScript output generated by `tsc`.
- `media/` contains extension assets (icons).
- Root configs include `package.json`, `tsconfig.json`, `eslint.config.mjs`, and `CHANGELOG.md`.

## Build, Test, and Development Commands
- `npm install` installs dependencies.
- `npm run compile` builds TypeScript into `out/`.
- `npm run watch` starts incremental compilation for development.
- `npm run lint` runs ESLint on `src/`.
- `npm test` runs VS Code extension tests via `out/test/runTest.js` (includes the `pretest` compile).
- `npm run test:unit` runs Mocha unit tests against compiled output.
- `npm run package` produces a `.vsix` via `vsce`.

Development workflow: run `npm run watch`, then press F5 in VS Code to launch the Extension Development Host.

## Coding Style & Naming Conventions
- Use TypeScript with 4-space indentation and single quotes.
- File names use `snake_case.ts` (e.g., `telemetry_service.ts`).
- Classes use `PascalCase`; functions/variables use `camelCase`; constants use `UPPER_SNAKE_CASE` when needed.
- Keep new names aligned with the mission-control terminology used in the codebase.

## Testing Guidelines
- Frameworks: Mocha + `@vscode/test-electron`.
- Test files use `*.test.ts` and live under `src/test/unit/` or `src/test/suite/`.
- Add or update tests for telemetry fetching, alerts, history tracking, and view rendering changes.

## Commit & Pull Request Guidelines
- Commit history favors Conventional Commits for code changes (`feat:`, `fix:`) and short imperative messages for docs (e.g., `Update README...`).
- PRs should include a clear summary, testing notes, and linked issues when applicable.
- Attach screenshots or GIFs for UI changes (tree views, status bar, notifications).

## Security & Configuration Notes
- Settings live under `agTelemetry.*` in VS Code configuration.
- For security-sensitive changes (process discovery, network requests, token handling), consult `SECURITY_REVIEW_PROMPT.md`.
- Avoid logging CSRF tokens or untrusted server responses.

## Additional References
- `CLAUDE.md` contains architecture notes and detailed component responsibilities.
